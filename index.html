<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q-DISCOVER | Enterprise Platform</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <script src="https://3Dmol.org/build/3Dmol-min.js"></script>
</head>
<body>
    <div class="nav-container">
        <div class="nav-brand">‚öõÔ∏è <span>Q-DISCOVER</span></div>

        <div class="nav-links-dock">
            <button class="nav-btn active" onclick="navigate('Home')">üè† Home</button>
            <button class="nav-btn" onclick="navigate('Hilbert Space')">üåå Hilbert</button>
            <button class="nav-btn" onclick="navigate('Top Candidate')">üéØ Top Hit</button>
            <button class="nav-btn" onclick="navigate('Lipinski Filter')">üõ°Ô∏è Lipinski</button>
            <button class="nav-btn" onclick="navigate('Similarity Search')">üß¨ Sim Search</button>
            <button class="nav-btn" onclick="navigate('Grover Analytics')">üìà Analytics</button>
            <button class="nav-btn" onclick="navigate('Molecule Designer')">‚úçÔ∏è Designer</button>
            <button class="nav-btn" onclick="navigate('Q-Visualizer')">üëÅÔ∏è Visualizer</button>
            <button class="nav-btn" onclick="navigate('Algorithm Race')">üèéÔ∏è Race Sim</button>
            <button class="nav-btn" onclick="navigate('Cost Simulator')">üí∞ Cost Sim</button>
        </div>

        <div class="nav-actions">
            <button id="student-mode-toggle" class="nav-btn" style="border: 1px solid var(--accent2-color); color: var(--accent2-color); white-space: nowrap;" onclick="toggleStudentMode()">üéì Mode: Experienced</button>
            <button id="theme-toggle" class="nav-btn-icon">‚òÄÔ∏è</button>
        </div>
    </div>
    <div class="block-container" style="padding-top: 10rem;">
        <div id="Home" class="page-section active">
            <div style="display: flex; gap: 3rem; align-items: center; margin-bottom: 4rem;">
                <div style="flex: 1.1;">
                    <div class="hero-title">Discover Ligands with <span>Quantum Velocity.</span></div>
                    <p class="hero-subtitle">Step into the next generation of chemoinformatics. Leverage Qiskit Statevectors to locate optimal molecular candidates with theoretical square-root acceleration.</p>
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button class="btn-primary" onclick="navigate('Algorithm Race')" style="flex: 1; padding: 1.2rem; font-size: 1.05rem;">Start Discovery Race ‚Üí</button>
                        <button class="btn-secondary" onclick="navigate('Cost Simulator')" style="flex: 1; padding: 1.2rem; font-size: 1.05rem;">View Economic Impact</button>
                    </div>
                </div>
                <div style="flex: 1.2;">
                    <div class="glass-card" style="padding: 0; overflow: hidden;">
                        <div class="card-header" style="text-align: center; margin: 0; padding: 1rem; background: rgba(100,100,100,0.05); border-bottom: 1px solid var(--border-color);">INTERACTIVE VIEWPORT // IMATINIB</div>
                        <div style="position: relative; width: 100%; height: 350px;"><div id="home-3dmol" style="position: absolute; top:0; left:0; width:100%; height:100%;"></div></div>
                    </div>
                </div>
            </div>

            <h2 class="section-title" style="font-size: 1.8rem; margin-bottom: 0.5rem;">Engine Performance & Capacity</h2>
            <p style="text-align: center; color: var(--subtext-color); margin-bottom: 2rem; font-size: 0.9rem;">Live metrics mapped directly from the active Qiskit Statevector instance.</p>
            <div class="stats-grid">
                <div class="glass-card stat-box"><div class="stat-value" id="stat-N" style="font-size: 1.5rem;">--</div><div class="stat-label">Total Search Space</div></div>
                <div class="glass-card stat-box"><div class="stat-value" id="stat-dim" style="font-size: 1.5rem;">--</div><div class="stat-label">Allocated Hilbert Space</div></div>
                <div class="glass-card stat-box"><div class="stat-value" id="stat-speed" style="font-size: 1.5rem;">O(‚àöN)</div><div class="stat-label">Theoretical Speedup</div></div>
                <div class="glass-card stat-box"><div class="stat-value" id="stat-opt" style="font-size: 1.5rem;">--</div><div class="stat-label">Optimal Iterations</div></div>
            </div>

            <div style="text-align: center; margin-top: 4rem;">
                <h2 class="section-title" style="font-size: 1.8rem; margin-top: 0; margin-bottom: 0.5rem;">Explore Analytical Modules</h2>
                <p style="color: var(--subtext-color); margin-bottom: 2rem; font-size: 0.9rem;">From 3D probability mapping to live structural testing, master every phase of the discovery pipeline.</p>
            </div>

            <div class="module-grid" id="tour-home-grid">
                <div class="glass-card module-card" style="--theme-color: #8b5cf6; border-color: var(--theme-color);"><div class="module-icon">üèéÔ∏è</div><div class="module-title">Algorithm Race</div><div class="module-desc">Educational sandbox. Watch a live visualization of why classical sequential filtering is slow compared to quantum parallelism.</div><button class="module-btn" onclick="navigate('Algorithm Race')">Launch Race</button></div>
                <div class="glass-card module-card" style="--theme-color: #10b981; border-color: var(--theme-color);"><div class="module-icon">üí∞</div><div class="module-title">Cost Simulator</div><div class="module-desc">Interactive economic tool. Map out the millions of dollars saved by upgrading from linear to exponential searching.</div><button class="module-btn" onclick="navigate('Cost Simulator')">Launch Simulator</button></div>
                <div class="glass-card module-card" style="--theme-color: #3b82f6; border-color: var(--theme-color);"><div class="module-icon">üåå</div><div class="module-title">Hilbert Space</div><div class="module-desc">Experience full 3D visualization of the Qiskit statevector distribution across your molecular search space.</div><button class="module-btn" onclick="navigate('Hilbert Space')">Launch Module</button></div>
                <div class="glass-card module-card" style="--theme-color: #ef4444; border-color: var(--theme-color);"><div class="module-icon">üéØ</div><div class="module-title">Candidate Extraction</div><div class="module-desc">Isolate the highest-probability hit from the collapsed system wave function.</div><button class="module-btn" onclick="navigate('Top Candidate')">Launch Module</button></div>
                <div class="glass-card module-card" style="--theme-color: #06b6d4; border-color: var(--theme-color);"><div class="module-icon">üõ°Ô∏è</div><div class="module-title">Lipinski Filter</div><div class="module-desc">Batch classical property compliance checks against the Rule of 5.</div><button class="module-btn" onclick="navigate('Lipinski Filter')">Launch Module</button></div>
                <div class="glass-card module-card" style="--theme-color: #d946ef; border-color: var(--theme-color);"><div class="module-icon">üß¨</div><div class="module-title">Tanimoto Similarity</div><div class="module-desc">Perform rapid structural matching utilizing advanced Morgan fingerprint vector analysis.</div><button class="module-btn" onclick="navigate('Similarity Search')">Launch Module</button></div>
                <div class="glass-card module-card" style="--theme-color: #f59e0b; border-color: var(--theme-color);"><div class="module-icon">üìà</div><div class="module-title">Grover Analytics</div><div class="module-desc">Examine iteration-by-iteration probability execution logs and simulate depolarization noise.</div><button class="module-btn" onclick="navigate('Grover Analytics')">Launch Module</button></div>
                <div class="glass-card module-card" style="--theme-color: #eab308; border-color: var(--theme-color);"><div class="module-icon">‚úçÔ∏è</div><div class="module-title">Molecule Designer</div><div class="module-desc">Sketch 2D structures dynamically while running real-time diagnostics against active Oracle bounds.</div><button class="module-btn" onclick="navigate('Molecule Designer')">Launch Module</button></div>
                <div class="glass-card module-card" style="--theme-color: #14b8a6; border-color: var(--theme-color);"><div class="module-icon">üëÅÔ∏è</div><div class="module-title">Quantum Visualizer</div><div class="module-desc">Watch the mathematical engine dynamically amplify amplitudes and isolate targets.</div><button class="module-btn" onclick="navigate('Q-Visualizer')">Launch Module</button></div>
            </div>
        </div>

        <div id="App-Wrapper" class="page-section" style="display: none;">
            <div class="app-grid" id="main-app-grid">

                <div class="glass-card sidebar" id="oracle-sidebar" style="padding: 1.5rem; height: fit-content;">
                    <div class="card-header" style="color: var(--accent-color);">‚öôÔ∏è ORACLE PARAMETERS</div>
                    <div style="font-size: 0.75rem; color: var(--subtext-color); margin-bottom: 1.5rem; line-height: 1.4;">
                        Parameters restricted to <strong style="color: var(--accent-color);">Lipinski's Rule of 5</strong> to ensure candidates remain viable "drug-like" molecules.
                    </div>

                    <form id="oracle-form" onsubmit="event.preventDefault(); runQuantumSimulation();">
                        <div class="slider-group" id="tour-qed"><label>Min QED Score (<span id="v-qed">0.50</span>)</label><input type="range" id="t_qed" min="0" max="1" step="0.01" value="0.50" oninput="document.getElementById('v-qed').innerText=this.value"></div>
                        <div class="slider-group" id="tour-mw"><label>Min MW (<span id="v-minmw">150</span>)</label><input type="range" id="min_mw" min="50" max="500" step="5" value="150" oninput="document.getElementById('v-minmw').innerText=this.value"></div>
                        <div class="slider-group"><label>Max MW (<span id="v-maxmw">500</span>)</label><input type="range" id="max_mw" min="50" max="500" step="5" value="500" oninput="document.getElementById('v-maxmw').innerText=this.value"></div>
                        <div class="slider-group"><label>Min LogP (<span id="v-minlog">0.0</span>)</label><input type="range" id="min_logp" min="-2" max="5" step="0.1" value="0.0" oninput="document.getElementById('v-minlog').innerText=this.value"></div>
                        <div class="slider-group" id="tour-logp"><label>Max LogP (<span id="v-maxlog">5.0</span>)</label><input type="range" id="max_logp" min="-2" max="5" step="0.1" value="5.0" oninput="document.getElementById('v-maxlog').innerText=this.value"></div>
                        <div class="slider-group"><label>Min TPSA (<span id="v-mintpsa">20</span>)</label><input type="range" id="min_tpsa" min="0" max="140" step="1" value="20" oninput="document.getElementById('v-mintpsa').innerText=this.value"></div>
                        <div class="slider-group"><label>Max TPSA (<span id="v-maxtpsa">140</span>)</label><input type="range" id="max_tpsa" min="0" max="140" step="1" value="140" oninput="document.getElementById('v-maxtpsa').innerText=this.value"></div>
                        <div class="slider-group"><label>Max HBD (<span id="v-hbd">5</span>)</label><input type="range" id="max_hbd" min="0" max="5" value="5" oninput="document.getElementById('v-hbd').innerText=this.value"></div>
                        <div class="slider-group"><label>Max HBA (<span id="v-hba">10</span>)</label><input type="range" id="max_hba" min="0" max="10" value="10" oninput="document.getElementById('v-hba').innerText=this.value"></div>
                        <div class="slider-group"><label>Max RotBonds (<span id="v-rot">10</span>)</label><input type="range" id="max_rotbonds" min="0" max="10" value="10" oninput="document.getElementById('v-rot').innerText=this.value"></div>
                        <div class="slider-group"><label>Max Rings (<span id="v-ring">5</span>)</label><input type="range" id="max_rings" min="0" max="5" value="5" oninput="document.getElementById('v-ring').innerText=this.value"></div>

                        <div class="card-header" style="color: var(--accent-color); margin-top: 2rem;">‚ö° EXECUTION SETTINGS</div>
                        <div class="slider-group"><label>Amplitude Iterations (<span id="v-step">5</span>)</label><input type="range" id="grover_steps" min="0" max="25" value="5" oninput="document.getElementById('v-step').innerText=this.value"></div>
                        <div class="slider-group" id="tour-noise"><label>Decoherence Noise (<span id="v-noise">0.0</span>)</label><input type="range" id="noise_rate" min="0" max="0.5" step="0.01" value="0.0" oninput="document.getElementById('v-noise').innerText=this.value"></div>
                        <button type="submit" id="run-btn" class="btn-primary" style="margin-top: 1rem;">Apply & Run Simulation</button>
                    </form>
                </div>

                <div class="main-content" style="width: 100%;">
                    <div style="display: flex; justify-content: space-between; align-items: flex-end; border-bottom: 1px solid var(--border-color); padding-bottom: 10px; margin-bottom: 25px;">
                        <h2 id="current-module-title" style="margin: 0; font-size: 2.2rem;">Module Name</h2>
                        <div class="card-header" style="border:none; margin:0; font-size: 0.75rem;" id="status-hdr">Initializing System...</div>
                    </div>

<div id="Cost-Simulator" class="module-view" style="display:none;">
                        <div class="glass-card" style="margin-bottom: 2rem; border-color: var(--accent-color); background: rgba(59, 130, 246, 0.05);">
                            <h3 style="margin-top: 0;">üí∞ Why Discovery Is Expensive</h3>
                            <p style="margin:0; font-size: 0.95rem; line-height: 1.6;"><strong>Cost Scaling Educational Module:</strong> Classical computational screening scales linearly <i>O(N)</i>. Quantum exploration scales quadratically <i>O(‚àöN)</i>. Even if a single Quantum evaluation is <strong>10x more expensive</strong> ($100 vs $10), watch how the mathematical speedup saves billions at scale.</p>                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
                            <div class="glass-card" style="padding: 1rem;" id="cost-n-tour">
                                <label style="font-weight: bold; font-size: 0.85rem; color: var(--subtext-color); display: block; margin-bottom: 5px;">Total Search Space (N)</label>
                                <input type="number" id="cost-n" class="text-input" value="1000000" step="10000" onchange="renderCostSimulator()">
                            </div>
                            <div class="glass-card" style="padding: 1rem;">
                                <label style="font-weight: bold; font-size: 0.85rem; color: var(--subtext-color); display: block; margin-bottom: 5px;">Time per compound (sec)</label>
                                <input type="number" id="cost-time" class="text-input" value="1" onchange="renderCostSimulator()">
                            </div>

                            <div class="glass-card" style="padding: 1rem; border: 1px solid var(--accent-color); background: rgba(59,130,246,0.05);">
                                <label style="font-weight: bold; font-size: 0.85rem; color: var(--accent-color); display: block; margin-bottom: 10px;">Fixed Compute Pricing</label>
                                <div style="display: flex; justify-content: space-between; margin-top: 5px; font-family: 'JetBrains Mono'; font-size: 0.9rem;">
                                    <span style="color: #ef4444; font-weight: bold;">Classical:</span> <span>$10 / eval</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-top: 8px; font-family: 'JetBrains Mono'; font-size: 0.9rem;">
                                    <span style="color: #10b981; font-weight: bold;">Quantum:</span> <span>$100 / eval</span>
                                </div>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 1.5rem;">
                            <div class="glass-card" style="border-left: 4px solid #ef4444;"><h3 style="color: #ef4444; margin-top: 0;">üß™ Classical Screening</h3><div class="data-metric"><div class="data-lbl">Total Cost</div><div class="data-val" id="metric-c-cost">--</div></div><div class="data-metric"><div class="data-lbl">Total Time</div><div class="data-val" id="metric-c-time" style="font-size: 1.5rem;">--</div></div></div>
                            <div class="glass-card" style="border-left: 4px solid #10b981;"><h3 style="color: #10b981; margin-top: 0;">‚öõÔ∏è Quantum-Inspired</h3><div class="data-metric"><div class="data-lbl">Estimated Cost</div><div class="data-val" id="metric-q-cost">--</div></div><div class="data-metric"><div class="data-lbl">Estimated Time</div><div class="data-val" id="metric-q-time" style="font-size: 1.5rem;">--</div></div></div>
                        </div>
                        <h2 style="text-align: center; color: var(--accent-color); margin-bottom: 2rem;">üöÄ Speedup Factor ‚âà <span id="metric-speedup">--</span></h2>
                        <div style="display: grid; grid-template-columns: 1fr 1.5fr; gap: 1.5rem; margin-bottom: 2rem;">
                            <div class="glass-card" style="padding: 10px;"><div id="cost-bar-chart" style="width: 100%; height: 350px;"></div></div>
                            <div class="glass-card" style="padding: 10px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;"><h4 style="margin: 0;">üìà Cost Scaling Behavior</h4><button class="btn-primary" onclick="animateCostCurve()" style="padding: 0.5rem 1rem; font-size: 0.85rem; width: auto;">‚ñ∂ Play Animation</button></div>
                                <div id="cost-scaling-chart" style="width: 100%; height: 320px;"></div>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1.5fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
                            <div class="glass-card" style="padding: 10px;"><div id="cost-log-chart" style="width: 100%; height: 350px;"></div></div>
                            <div class="glass-card"><div class="card-header">üè≠ Real-World Perspective</div><p style="font-size: 1.05rem; line-height: 1.6;">Average cost to bring a drug to market $\approx$ <strong>$2,000,000,000.</strong></p><p style="font-size: 0.95rem; line-height: 1.6; color: var(--subtext-color);" id="real-world-text"></p></div>
                        </div>
                    </div>
<div id="Algorithm-Race" class="module-view" style="display:none;">
                        <div class="glass-card" style="margin-bottom: 2rem; border-color: var(--accent-color); background: rgba(59, 130, 246, 0.05);">
                            <p style="margin:0; font-size: 0.95rem; line-height: 1.6;"><strong>The Algorithmic Bottleneck:</strong> This module strips away the economics and focuses purely on the math. Watch the live execution logs below. The classical computer must physically check every molecule sequentially. The Quantum engine places all molecules in superposition and manipulates the probabilities, forcing wrong answers to cancel out via Destructive Interference.</p>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                            <div class="glass-card" style="border-top: 4px solid #ef4444; display: flex; flex-direction: column;">
                                <h3 style="color: #ef4444; margin-top: 0; margin-bottom: 1.5rem;">üê¢ Classical Search <i>O(N)</i></h3>
                                <div class="data-metric"><div class="data-lbl">Mechanism</div><div class="data-val" style="font-size: 0.9rem;">Sequential Filtering</div></div>
                                <div class="data-metric"><div class="data-lbl">Concurrency</div><div class="data-val" style="font-size: 0.9rem;">1 item / compute cycle</div></div>

                                <div class="race-bar-bg" style="height: 12px; border-radius: 6px; margin-top: 20px;"><div id="race-classic-fill" class="race-bar-fill" style="background: #ef4444; width: 0%;"></div></div>
                                <div style="display: flex; justify-content: space-between; margin-top: 8px; font-family: 'JetBrains Mono'; font-size: 0.85rem; color: var(--subtext-color);"><span>Items Scanned:</span><span id="race-classic-text" style="color: #ef4444; font-weight: bold;">0 / --</span></div>

                                <div class="race-terminal" id="term-classic" style="color: #ef4444;">
                                    <div class="term-line">> System Ready. Awaiting execution command.</div>
                                </div>
                            </div>

                            <div class="glass-card" style="border-top: 4px solid #10b981; display: flex; flex-direction: column;">
                                <h3 style="color: #10b981; margin-top: 0; margin-bottom: 1.5rem;">üöÄ Quantum Engine <i>O(‚àöN)</i></h3>
                                <div class="data-metric"><div class="data-lbl">Mechanism</div><div class="data-val" style="font-size: 0.9rem;">Amplitude Amplification</div></div>
                                <div class="data-metric"><div class="data-lbl">Concurrency</div><div class="data-val" style="font-size: 0.9rem;">All items simultaneously</div></div>

                                <div class="race-bar-bg" style="height: 12px; border-radius: 6px; margin-top: 20px;"><div id="race-quantum-fill" class="race-bar-fill" style="background: #10b981; width: 0%;"></div></div>
                                <div style="display: flex; justify-content: space-between; margin-top: 8px; font-family: 'JetBrains Mono'; font-size: 0.85rem; color: var(--subtext-color);"><span>Target Probability |Œ®|¬≤:</span><span id="race-quantum-text" style="color: #10b981; font-weight: bold;">0.00%</span></div>

                                <div class="race-terminal" id="term-quantum" style="color: #10b981;">
                                    <div class="term-line">> System Ready. Awaiting execution command.</div>
                                </div>
                            </div>
                        </div>

                        <div style="text-align: center; margin-top: 2rem;">
                            <button class="btn-primary" id="start-race-btn" onclick="startRace()" style="padding: 1.2rem 3rem; font-size: 1.1rem; width: auto; box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);">üèÅ START EXECUTION RACE</button>
                            <h3 id="race-winner-text" style="margin-top: 20px; color: #10b981; display: none;">üèÜ Quantum Wavefunction Collapsed! Target extracted while Classical is still searching.</h3>
                        </div>
                    </div>
                    <div id="Hilbert-Space" class="module-view" style="display:none;">
                        <div class="glass-card" style="margin-bottom: 1.5rem; border-color: var(--accent-color); background: rgba(59, 130, 246, 0.05);">
                            <p style="margin:0; font-size: 0.9rem; line-height: 1.5;"><strong>Quantum Implementation Details:</strong> This pure simulation utilizes Qiskit's `Statevector` to model a physical system, structuring a complete Hilbert space. The Oracle is actively generated as a diagonal unitary matrix that precisely executes a -1 phase-shift exclusively on the valid target indices before diffusion.</p>
                        </div>
                        <div id="hilbert-plot" style="width: 100%; height: 600px; margin-bottom: 20px;"></div>
                        <h4 style="margin-bottom: 10px;">Top 20 Extracted Candidates</h4>
                        <div class="glass-card" style="padding: 0; overflow-x: auto;">
                            <div id="hilbert-table-container"></div>
                        </div>
                    </div>

                    <div id="Top-Candidate" class="module-view" style="display:none;">
                        <h3 style="margin-bottom: 20px; font-size: 1.5rem;">Measured Wave Collapse: <span style="color: var(--accent-color); font-family: 'JetBrains Mono';" id="tc-name">--</span></h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1.5fr; gap: 1.5rem;">
                        <div class="glass-card">
                                <div class="card-header">Physical Profile</div>
                                <div class="data-metric"><div class="data-lbl">Probability</div><div class="data-val" style="color:var(--accent-color);" id="tc-prob">--</div></div>
                                <div class="data-metric"><div class="data-lbl">Mol Weight</div><div class="data-val" id="tc-mw">--</div></div>
                                <div class="data-metric"><div class="data-lbl">LogP Score</div><div class="data-val" id="tc-logp">--</div></div>
                                <div class="data-metric"><div class="data-lbl">QED Score</div><div class="data-val" id="tc-qed">--</div></div>
                                <div class="data-metric"><div class="data-lbl">TPSA Value</div><div class="data-val" id="tc-tpsa">--</div></div>
                            </div>
                            <div class="glass-card" style="display: flex; flex-direction: column;">
                                <div class="card-header">Lipinski Compliance</div>
                                <div id="tc-lipinski-badges"></div>
                                <div id="tc-verdict" style="margin-top: 10px; margin-bottom: 10px;"></div>
                                <div id="radar-plot" style="width: 100%; height: 200px; margin-top: auto;"></div>
                            </div>
                            <div class="glass-card" style="padding: 0; overflow: hidden; display: flex; flex-direction: column;">
                                <div class="card-header" style="text-align: center; margin: 0; padding: 1rem; background: rgba(100,100,100,0.05); border-bottom: 1px solid var(--border-color);">3D STRUCTURE VIEWPORT</div>
                                <div style="position: relative; width: 100%; flex-grow: 1; min-height: 350px;">
                                    <div id="tc-3dmol" style="position: absolute; top:0; left:0; width:100%; height:100%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="Lipinski-Filter" class="module-view" style="display:none;">
                        <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 1.5rem;">
                            <div class="glass-card"><div id="lipinski-pie" style="width: 100%; height: 350px;"></div></div>
                            <div class="glass-card" style="max-height: 400px; overflow-y: auto; padding: 0;"><div id="lipinski-table-container"></div></div>
                        </div>
                    </div>

                    <div id="Similarity-Search" class="module-view" style="display:none;">
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="sim-input" placeholder="Input Query SMILES String" class="text-input" value="CC(=O)OC1=CC=CC=C1C(=O)O">
                            <button class="btn-primary" style="width: 250px;" onclick="runSimilarity()">Search Fingerprints</button>
                        </div>
                        <div style="display: grid; grid-template-columns: 1.5fr 1fr; gap: 1.5rem; margin-top: 20px;">
                            <div class="glass-card"><div id="sim-plot" style="width: 100%; height: 350px;"></div></div>
                            <div class="glass-card" style="padding: 0; overflow: hidden;">
                                <div class="card-header" id="sim-top-match" style="margin: 0; padding: 1rem; text-align: center; background: rgba(100,100,100,0.05); border-bottom: 1px solid var(--border-color);">Top Match: --</div>
                                <div style="position: relative; width: 100%; height: 300px;"><div id="sim-3dmol" style="position: absolute; top:0; left:0; width:100%; height:100%;"></div></div>
                            </div>
                        </div>
                    </div>

                    <div id="Grover-Analytics" class="module-view" style="display:none;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 20px;">
                            <div class="glass-card" style="padding: 10px;"><div id="grover-line" style="width: 100%; height: 300px;"></div></div>
                            <div class="glass-card" style="padding: 10px;"><div id="grover-bar" style="width: 100%; height: 300px;"></div></div>
                        </div>
                        <h3 style="margin-top: 1rem; margin-bottom: 1rem; font-size: 1.2rem;">Execution Logs</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                            <div>
                                <div class="log-panel"><div class="log-title">[PHASE 1] QISKIT STATEVECTOR INIT</div><div class="log-data" id="log-init">Hilbert space dimension mapped correctly. Initial state probability uniformly distributed.</div></div>
                                <div class="log-panel"><div class="log-title">[PHASE 2] DIAGONAL ORACLE KICKBACK</div><div class="log-data" id="log-oracle">Phase-flip successfully applied to target substates matching active constraints.</div></div>
                                <div class="log-panel"><div class="log-title">[PHASE 3] DIFFUSION (INVERSION)</div><div class="log-data">Statevector successfully evolved via native Grover operator reflection matrix.</div></div>
                            </div>
                            <div>
                                <div class="log-panel"><div class="log-title">[HARDWARE] SIMULATED DECOHERENCE</div><div class="log-data" id="log-noise">Approximated noise depolarizing rate applied.</div></div>
                                <div class="log-panel"><div class="log-title">[METRICS] COMPLEXITY DELTA</div><div class="log-data" id="log-speedup">Mathematical steps bounded perfectly compared to O(N).</div></div>
                                <div class="log-panel" style="border-color: #10b981; box-shadow: 0 0 20px rgba(16, 185, 129, 0.2);"><div class="log-title" style="color: #10b981;">[RESULT] WAVEFUNCTION COLLAPSE</div><div class="log-data" id="log-collapse">--</div></div>
                            </div>
                        </div>
                    </div>

                    <div id="Molecule-Designer" class="module-view" style="display:none;">
                        <div style="display: grid; grid-template-columns: 2.2fr 1fr; gap: 1.5rem;">
                            <div class="glass-card" id="tour-ketcher" style="padding: 0; overflow: hidden; height: 750px; background: #ffffff; display: flex; flex-direction: column;">
                                <div class="card-header" style="margin: 0; padding: 1rem; background: #f8fafc; border-bottom: 1px solid var(--border-color); color: #0f172a; font-weight: 800;">MOLECULE EDITOR</div>
                                 <iframe id="ketcher-frame" src="ketcher/standalone/index.html" style="width: 100%; flex-grow: 1; border: none; min-height: 0;" allowfullscreen></iframe>
                            </div>
                            <div class="glass-card" style="display: flex; flex-direction: column; height: 750px;">
                                <div class="card-header">Live Diagnostics</div>
                                <input type="text" id="designer-smi" placeholder="Paste SMILES here..." class="text-input" style="margin-bottom: 10px;">
                                <button class="btn-secondary" id="tour-designer-run" onclick="runDesignerDiagnostics()" style="margin-bottom: 15px;">Run Diagnostics</button>
                                <div id="designer-results" style="font-size: 0.9rem; flex-grow: 1; overflow-y: auto;"></div>
                                <div class="card-header" style="text-align: center; margin-top: 1.5rem; border-bottom: none;">LIVE 3D STRUCTURE</div>
                                <div style="position: relative; width: 100%; height: 250px; background: rgba(0,0,0,0.2); border-radius: 8px;">
                                    <div id="designer-3dmol" style="position: absolute; top:0; left:0; width:100%; height:100%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="Q-Visualizer" class="module-view" style="display:none;">
                        <p style="color: var(--subtext-color); margin-bottom: 2rem;">Watch the algorithmic mechanics of Amplitude Amplification isolate a target molecule from a multi-dimensional vector space.</p>
                        <div style="display: grid; grid-template-columns: 1fr 1.5fr; gap: 2rem;">
                            <div>
                                <div class="glass-card" style="padding: 1.5rem; margin-bottom: 1.5rem;">
                                    <div class="card-header">Algorithmic Complexity & Mechanics</div>
                                    <p style="margin-bottom: 1rem; font-size: 0.9rem;">Classical linear search requires <i>O(N)</i> operations. By mapping molecules to an <i>n</i>-dimensional Hilbert space, we execute a deterministic search with exponential algorithmic efficiency: <i>O(‚àöN)</i>.</p>
                                    <p style="margin-bottom: 0; font-size: 0.9rem;">This visualization tracks <b>Aspirin</b> hidden inside a dataset of <i>N=64</i> molecules. Watch the linear algebraic operations manipulate the probability amplitudes dynamically to force constructive interference.</p>                  </div>
                                <button class="btn-primary" onclick="runQVisualizer()" style="padding: 1.2rem; width: 100%;">Initialize & Run Quantum Sequence</button>
                                <div id="qv-status-box" class="glass-card" style="margin-top: 20px; border-color: #10b981; background: rgba(16, 185, 129, 0.05); display: none;">
                                    <p id="qv-status" style="margin: 0; font-weight: normal; color: var(--text-color); font-size: 0.9rem; line-height: 1.5;"></p>
                                </div>
                            </div>
                            <div class="glass-card" style="padding: 0;"><div id="qv-plot" style="width: 100%; height: 450px;"></div></div>
                        </div>
                    </div>

                    <div class="glass-card" style="margin-top: 1.5rem; padding: 1rem; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; color: var(--subtext-color);">
                        ‚úì Wavefunction Collapsed! Targets Identified: <span id="app-target-count" style="color: var(--text-color); font-weight: bold;">--</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer-container">
        <div style="color: var(--text-color); font-family: 'Plus Jakarta Sans', sans-serif; font-weight: 800; font-size: 1.6rem; margin-bottom: 0.5rem; letter-spacing: 0.05em;">‚öõÔ∏è Q-DISCOVER PLATFORM</div>
        <div style="color: var(--subtext-color); font-size: 1.05rem; margin-bottom: 1.8rem; font-weight: 500;">Powered by IBM Qiskit Quantum Integration. Empowering computational chemists and quantum researchers.</div>
        <div style="display: inline-block; padding: 0.8rem 2.5rem; border-radius: 12px; background: var(--accent-light); border: 1px solid var(--accent-color); color: var(--accent-color); font-size: 0.95rem; font-weight: 800; letter-spacing: 0.08em; text-transform: uppercase;">
            PROJECT BY TEAM AVENGERS <span style="opacity: 0.5; margin: 0 10px;">|</span> GUIDANCE: DR. M. JAHIR PASHA
        </div>
    </div>

    <div id="student-assistant" class="glass-card" style="display: none; position: fixed; bottom: 30px; right: 30px; width: 380px; z-index: 100000; border: 2px solid var(--accent2-color); box-shadow: 0 10px 40px rgba(245, 158, 11, 0.25);">
        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px; border-bottom: 1px solid var(--border-color); padding-bottom: 10px;">
            <div style="font-size: 2.2rem; filter: drop-shadow(0 0 10px rgba(245,158,11,0.5));">üéì</div>
            <div>
                <div style="font-family: 'JetBrains Mono'; font-size: 0.75rem; color: var(--subtext-color); text-transform: uppercase;">Interactive Tour</div>
                <div id="tour-title" style="font-weight: 800; color: var(--accent2-color); font-size: 1.1rem; letter-spacing: -0.02em;">Research Guide</div>
            </div>
            <button onclick="toggleStudentMode()" style="margin-left: auto; background: var(--card-bg); border: 1px solid var(--border-color); color: var(--text-color); cursor: pointer; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; transition: 0.2s;">‚úñ</button>
        </div>
        <div id="assistant-text" style="font-size: 0.95rem; line-height: 1.6; color: var(--text-color); min-height: 80px;"></div>
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px; border-top: 1px solid var(--border-color); padding-top: 15px;">
            <button class="tour-btn" onclick="tourPrev()">‚Üê Prev</button>
            <span id="tour-progress" style="font-family: 'JetBrains Mono'; font-size: 0.8rem; color: var(--subtext-color);">1/1</span>
            <button class="tour-btn tour-btn-primary" onclick="tourNext()">Next ‚Üí</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>